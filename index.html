<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fist of Legends</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            overflow: hidden;
            background-color: #222;
        }

        .game-container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }

        .fighter {
            width: 60px;
            height: 120px;
            position: absolute;
            bottom: 0;
            background-color: red;
            transition: all 0.3s ease;
        }

        #tushar {
            background-color: #33b5e5;
        }

        #trilochan {
            background-color: #e50000;
        }

        .health-bar {
            position: absolute;
            width: 150px;
            height: 20px;
            background-color: #0c0;
            top: 20px;
        }

        .health-bar.trilochan {
            left: 80%;
        }

        .health-bar.tushar {
            left: 5%;
        }

        .control-icons {
            position: fixed;
            bottom: 10px;
            width: 100%;
            display: flex;
            justify-content: space-around;
            z-index: 10;
        }

        .control-icons div {
            width: 50px;
            height: 50px;
            background-color: #444;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 30px;
            color: white;
        }

        .control-icons div:hover {
            background-color: #bbb;
        }

        #victory-screen {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 40px;
            color: white;
            text-align: center;
            background: rgba(0,0,0,0.7);
            padding: 20px;
            border-radius: 10px;
        }

        .victory {
            color: #00ff00;
        }

        .defeat {
            color: #ff0000;
        }
    </style>
</head>

<body>
    <div class="game-container">
        <div id="tushar" class="fighter"></div>
        <div id="trilochan" class="fighter"></div>
        <div class="health-bar tushar" id="tushar-health"></div>
        <div class="health-bar trilochan" id="trilochan-health"></div>

        <div class="victory-screen" id="victory-screen"></div>
    </div>

    <div class="control-icons">
        <div id="left">&#8592;</div>
        <div id="punch">&#9995;</div>
        <div id="right">&#8594;</div>
        <div id="jump">&#8593;</div>
    </div>

    <script>
        let tusharHealth = 100;
        let trilochanHealth = 100;
        let isGameOver = false;

        const tushar = document.getElementById("tushar");
        const trilochan = document.getElementById("trilochan");
        const tusharHealthBar = document.getElementById("tushar-health");
        const trilochanHealthBar = document.getElementById("trilochan-health");
        const victoryScreen = document.getElementById("victory-screen");

        // Sound effects
        const punchSound = new Audio("https://www.soundjay.com/button/beep-07.wav");
        const jumpSound = new Audio("https://www.soundjay.com/button/beep-06.wav");
        const victorySound = new Audio("https://www.soundjay.com/button/sounds/beep-09.mp3");
        const defeatSound = new Audio("https://www.soundjay.com/button/beep-02.wav");

        function updateHealthBar() {
            tusharHealthBar.style.width = `${tusharHealth}%`;
            trilochanHealthBar.style.width = `${trilochanHealth}%`;
            checkGameStatus();
        }

        function checkGameStatus() {
            if (tusharHealth <= 0 && !isGameOver) {
                isGameOver = true;
                victoryScreen.classList.add("defeat");
                victoryScreen.innerHTML = "<div>Trilochan Wins!</div>";
                defeatSound.play();
                victoryScreen.style.display = "block";
            } else if (trilochanHealth <= 0 && !isGameOver) {
                isGameOver = true;
                victoryScreen.classList.add("victory");
                victoryScreen.innerHTML = "<div>Tushar Wins!</div>";
                victorySound.play();
                victoryScreen.style.display = "block";
            }
        }

        function playerAttack() {
            if (isGameOver) return;
            punchSound.play();
            trilochanHealth -= 10;
            updateHealthBar();
        }

        function botAttack() {
            if (isGameOver) return;
            setTimeout(() => {
                if (Math.random() > 0.7) {
                    tusharHealth -= 20;
                    updateHealthBar();
                }
            }, 800);
        }

        function playerMove(direction) {
            if (isGameOver) return;
            const leftPos = parseInt(tushar.style.left || 50);
            if (direction === "left" && leftPos > 0) {
                tushar.style.left = `${leftPos - 50}px`;
            } else if (direction === "right" && leftPos < 90) {
                tushar.style.left = `${leftPos + 50}px`;
            }
        }

        function playerJump() {
            if (isGameOver) return;
            jumpSound.play();
            tushar.style.bottom = "150px";
            setTimeout(() => tushar.style.bottom = "0", 500);
        }

        function botMovement() {
            if (isGameOver) return;
            setInterval(() => {
                const rand = Math.random();
                if (rand < 0.5) {
                    trilochan.style.left = `${parseInt(trilochan.style.left || 50) + (Math.random() < 0.5 ? -10 : 10)}px`;
                }
                botAttack();
            }, 1500);
        }

        function handleControlEvents() {
            document.getElementById("left").addEventListener("click", () => playerMove("left"));
            document.getElementById("right").addEventListener("click", () => playerMove("right"));
            document.getElementById("punch").addEventListener("click", () => playerAttack());
            document.getElementById("jump").addEventListener("click", playerJump);
        }

        function startGame() {
            botMovement();
            updateHealthBar();
            handleControlEvents();
        }

        window.onload = startGame;
    </script>

</body>

</html>
